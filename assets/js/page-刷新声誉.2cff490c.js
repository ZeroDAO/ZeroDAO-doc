(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{497:function(s,t,a){"use strict";a.r(t);var i=a(1),l=Object(i.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"刷新声誉"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#刷新声誉"}},[s._v("#")]),s._v(" 刷新声誉")]),s._v(" "),a("p",[s._v("使用通用计算框架可以很方便地计算声誉值，例如")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://neo4j.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Neo4j"),a("OutboundLink")],1),s._v(" - 基于 Java 的图数据库和计算框架")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/networkx/networkx",target:"_blank",rel:"noopener noreferrer"}},[s._v("networkx"),a("OutboundLink")],1),s._v(" - 著名的 Python 库")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://js.cytoscape.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cytoscape.js"),a("OutboundLink")],1),s._v(" - 基于 JavaScript")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/graphology/graphology",target:"_blank",rel:"noopener noreferrer"}},[s._v("graphology"),a("OutboundLink")],1),s._v(" - 基于 JavaScript")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://spark.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Spark"),a("OutboundLink")],1),s._v(" - 计算引擎，当 ZeroDAO 变得庞大时你将需要它")])])]),s._v(" "),a("h2",{attrs:{id:"更新路径权重"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新路径权重"}},[s._v("#")]),s._v(" 更新路径权重")]),s._v(" "),a("p",[s._v("使用系统上一期的声誉来计算路径权重，计算公式为：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mrow",[a("mi",[s._v("W")]),a("mi",[s._v("e")]),a("mi",[s._v("i")]),a("mi",[s._v("g")]),a("mi",[s._v("t")]),a("msub",[a("mi",[s._v("h")]),a("mrow",[a("mi",[s._v("a")]),a("mi",[s._v("b")])],1)],1),a("mo",[s._v("=")]),a("mi",[s._v("f")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("A")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("B")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mrow",[a("mo",{attrs:{fence:"true"}},[s._v("{")]),a("mtable",{attrs:{rowspacing:"0.3600em",columnalign:"left left",columnspacing:"1em"}},[a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[a("mrow",[a("mi",[s._v("ln")]),a("mo",[s._v("⁡")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("B")])],1),a("mo",[s._v("−")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("A")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",{attrs:{separator:"true"}},[s._v(",")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[a("mrow",[a("mi",[s._v("i")]),a("mi",[s._v("f")]),a("mtext"),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("B")])],1),a("mo",[s._v("−")]),a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("A")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",[s._v(">")]),a("mi",[s._v("e")])],1)],1)],1)],1),a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[a("mrow",[a("mn",[s._v("1")]),a("mo",{attrs:{separator:"true"}},[s._v(",")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[a("mrow",[a("mi",[s._v("e")]),a("mi",[s._v("l")]),a("mi",[s._v("s")]),a("mi",[s._v("e")]),a("mtext")],1)],1)],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("Weigth_{ab} = f(R_A,R_B)\n\\begin{cases}\n\\ln (R_B - R_A), &if\\ (R_B - R_A) > e\\\\\n1, &else\\\n\\end{cases}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mord mathnormal"},[s._v("i")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),a("span",{staticClass:"mord mathnormal"},[s._v("t")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("h")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("ab")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("A")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.05017em"}},[s._v("B")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),a("span",{staticClass:"minner"},[a("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[a("span",{staticClass:"delimsizing size4"},[s._v("{")])]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.69em"}},[a("span",{staticStyle:{top:"-3.69em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mop"},[s._v("ln")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.05017em"}},[s._v("B")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("A")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mpunct"},[s._v(",")])])]),a("span",{staticStyle:{top:"-2.25em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mpunct"},[s._v(",")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.19em"}},[a("span")])])])]),a("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.69em"}},[a("span",{staticStyle:{top:"-3.69em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("i")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),a("span",{staticClass:"mspace"}),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.05017em"}},[s._v("B")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("A")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v(">")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("e")])])]),a("span",{staticStyle:{top:"-2.25em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),a("span",{staticClass:"mord mathnormal"},[s._v("se")]),a("span",{staticClass:"mspace"})])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.19em"}},[a("span")])])])])])]),a("span",{staticClass:"mclose nulldelimiter"})])])])])])]),s._v(" "),a("p",[s._v("在工程实现上，我们向下取整，并将最大权重设为 "),a("code",[s._v("8")]),s._v(" , 方便我们更高效地取近似值，避免在链上计算自然对数。")]),s._v(" "),a("h2",{attrs:{id:"获取最短路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取最短路径"}},[s._v("#")]),s._v(" 获取最短路径")]),s._v(" "),a("p",[s._v("将路径权重导入你的数据库后，就可以找出种子节点到其他所有节点的有向图加权最短路径了。在有些计算框架中可能需要将最短路径的结果保存为文件，再进行下一步计算。这样比较高效，同时为挑战游戏作准备。")]),s._v(" "),a("h2",{attrs:{id:"计算声誉"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计算声誉"}},[s._v("#")]),s._v(" 计算声誉")]),s._v(" "),a("p",[s._v("从种子到目标节点的最短路径，迭代计算声誉，种子初始声誉值为常数 "),a("code",[s._v("INIT_SEED_RANK")]),s._v(" 。")]),s._v(" "),a("p",[s._v("计算公式为：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mrow",[a("mi",[s._v("S")]),a("mi",[s._v("c")]),a("mi",[s._v("o")]),a("mi",[s._v("r")]),a("msub",[a("mi",[s._v("e")]),a("mi",[s._v("b")])],1),a("mo",[s._v("=")]),a("mfrac",[a("msub",[a("mi",[s._v("R")]),a("mi",[s._v("A")])],1),a("mrow",[a("mi",[s._v("T")]),a("mi",[s._v("r")]),a("mi",[s._v("u")]),a("mi",[s._v("s")]),a("mi",[s._v("t")]),a("mi",[s._v("C")]),a("mi",[s._v("o")]),a("mi",[s._v("u")]),a("mi",[s._v("n")]),a("msub",[a("mi",[s._v("t")]),a("mi",[s._v("A")])],1),a("mi",[s._v("W")]),a("mi",[s._v("e")]),a("mi",[s._v("i")]),a("mi",[s._v("g")]),a("mi",[s._v("t")]),a("msub",[a("mi",[s._v("h")]),a("mrow",[a("mi",[s._v("a")]),a("mi",[s._v("b")])],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("Score_b = \\cfrac {R_A}{TrustCount_AWeigth_{ab}}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[s._v("S")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("cor")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("b")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"2.47044em","vertical-align":"-0.8804400000000001em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.5899999999999999em"}},[a("span",{staticStyle:{top:"-2.314em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[s._v("T")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),a("span",{staticClass:"mord mathnormal"},[s._v("u")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[s._v("tC")]),a("span",{staticClass:"mord mathnormal"},[s._v("o")]),a("span",{staticClass:"mord mathnormal"},[s._v("u")]),a("span",{staticClass:"mord mathnormal"},[s._v("n")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("t")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("A")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[s._v("W")]),a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mord mathnormal"},[s._v("i")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[s._v("g")]),a("span",{staticClass:"mord mathnormal"},[s._v("t")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("h")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("ab")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.74em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.00773em"}},[s._v("R")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.00773em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("A")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8804400000000001em"}},[a("span")])])])]),a("span")])])])])])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("TrustCount")]),s._v(" - 源节点信任的用户数，在工程实现上最小值为常数 "),a("code",[s._v("MIN_TRUST_COUNT")])]),s._v(" "),a("li",[a("code",[s._v("Weigth")]),s._v(" - 路径权重")])]),s._v(" "),a("p",[s._v("最后我们将所有种子的计算结果求和，得到用户的最终声誉。")]),s._v(" "),a("h2",{attrs:{id:"刷新声誉-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#刷新声誉-2"}},[s._v("#")]),s._v(" 刷新声誉")]),s._v(" "),a("p",[s._v("计算出声誉后，就可以通过 "),a("code",[s._v("tx.zdRefreshReputation.refresh()")]),s._v(" 接口来刷新用户声誉了，你可以批量刷新多个用户的声誉。系统将会自动扣除抵押金额，需要保证你有足够的余额。该接口的参数：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("reputation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"领取收益"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#领取收益"}},[s._v("#")]),s._v(" 领取收益")]),s._v(" "),a("p",[s._v("你刷新的最后一个声誉被确认后，才可以领取收益了。调用接口 "),a("code",[s._v("tx.zdRefreshReputation.harvestRefAll()")]),s._v(" ，它不需要传递任何参数，系统会把你所有的抵押金额和更新收益发送给你。")]),s._v(" "),a("p",[s._v("你不需要像领取种子收益那样每个种子领取一遍，而是一次性全部领取，这样可以大幅减少链上资源消耗。")]),s._v(" "),a("p",[s._v("声誉更新的收益为该用户的社交货币总额乘以手续费率，所以优先选择那些社交货币余额较高的用户，对你来说是个好策略。对于声誉系统来说，这样做可以反映用户的活跃度。")]),s._v(" "),a("p",[s._v("同时也应该注意到，有些用户没有足够的社交货币，但仍然需要更新声誉值。"),a("code",[s._v("pathfinder")]),s._v(" 可以开通付费更新的通道。")])])}),[],!1,null,null,null);t.default=l.exports}}]);